version: '3.8'

services:
  leadhunter:
    build: .
    container_name: leadhunter-production
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - PORT=3000
      - LOG_LEVEL=info
      # - SESSION_SECRET=your-random-generated-secret-here
      # - TRACKING_HMAC_SECRET=your-secure-tracking-secret-here
    volumes:
      # Persist SQLite databases across container rebuilds
      - ./src/sender/models/sender.db:/usr/src/app/src/sender/models/sender.db
      - ./data:/usr/src/app/data
      # Map the Chrome profile if preserving local cookie sessions
      - ./google-search/browser-state.json:/usr/src/app/google-search/browser-state.json
